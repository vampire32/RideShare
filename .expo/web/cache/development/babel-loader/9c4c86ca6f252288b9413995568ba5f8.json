{"ast":null,"code":"import { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport debounce from 'debounce';\nimport findNodeHandle from \"../../exports/findNodeHandle\";\nvar emptyObject = {};\nvar registry = {};\nvar id = 1;\n\nvar guid = function guid() {\n  return 'r-' + id++;\n};\n\nvar resizeObserver = void 0;\n\nif (canUseDOM) {\n  if (typeof window.ResizeObserver !== 'undefined') {\n    resizeObserver = new window.ResizeObserver(function (entries) {\n      entries.forEach(function (_ref) {\n        var target = _ref.target;\n        var instance = registry[target._layoutId];\n        instance && instance._handleLayout();\n      });\n    });\n  } else {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill. ' + 'Falling back to window.onresize.');\n    }\n\n    var triggerAll = function triggerAll() {\n      Object.keys(registry).forEach(function (key) {\n        var instance = registry[key];\n\n        instance._handleLayout();\n      });\n    };\n\n    window.addEventListener('resize', debounce(triggerAll, 16), false);\n  }\n}\n\nvar observe = function observe(instance) {\n  var id = guid();\n  registry[id] = instance;\n\n  if (resizeObserver) {\n    var node = findNodeHandle(instance);\n\n    if (node) {\n      node._layoutId = id;\n      resizeObserver.observe(node);\n    }\n  } else {\n    instance._layoutId = id;\n\n    instance._handleLayout();\n  }\n};\n\nvar unobserve = function unobserve(instance) {\n  if (resizeObserver) {\n    var node = findNodeHandle(instance);\n\n    if (node) {\n      delete registry[node._layoutId];\n      delete node._layoutId;\n      resizeObserver.unobserve(node);\n    }\n  } else {\n    delete registry[instance._layoutId];\n    delete instance._layoutId;\n  }\n};\n\nvar safeOverride = function safeOverride(original, next) {\n  if (original) {\n    return function prototypeOverride() {\n      original.call(this, arguments);\n      next.call(this, arguments);\n    };\n  }\n\n  return next;\n};\n\nvar applyLayout = function applyLayout(Component) {\n  var componentDidMount = Component.prototype.componentDidMount;\n  var componentDidUpdate = Component.prototype.componentDidUpdate;\n  var componentWillUnmount = Component.prototype.componentWillUnmount;\n  Component.prototype.componentDidMount = safeOverride(componentDidMount, function componentDidMount() {\n    this._layoutState = emptyObject;\n    this._isMounted = true;\n\n    if (this.props.onLayout) {\n      observe(this);\n    }\n  });\n  Component.prototype.componentDidUpdate = safeOverride(componentDidUpdate, function componentDidUpdate(prevProps) {\n    if (this.props.onLayout && !prevProps.onLayout) {\n      observe(this);\n    } else if (!this.props.onLayout && prevProps.onLayout) {\n      unobserve(this);\n    }\n  });\n  Component.prototype.componentWillUnmount = safeOverride(componentWillUnmount, function componentWillUnmount() {\n    this._isMounted = false;\n\n    if (this.props.onLayout) {\n      unobserve(this);\n    }\n  });\n\n  Component.prototype._handleLayout = function () {\n    var _this = this;\n\n    var layout = this._layoutState;\n    var onLayout = this.props.onLayout;\n\n    if (onLayout) {\n      this.measure(function (x, y, width, height) {\n        if (_this._isMounted) {\n          if (layout.x !== x || layout.y !== y || layout.width !== width || layout.height !== height) {\n            _this._layoutState = {\n              x: x,\n              y: y,\n              width: width,\n              height: height\n            };\n            var nativeEvent = {\n              layout: _this._layoutState\n            };\n            Object.defineProperty(nativeEvent, 'target', {\n              enumerable: true,\n              get: function get() {\n                return findNodeHandle(_this);\n              }\n            });\n            onLayout({\n              nativeEvent: nativeEvent,\n              timeStamp: Date.now()\n            });\n          }\n        }\n      });\n    }\n  };\n\n  return Component;\n};\n\nexport default applyLayout;","map":{"version":3,"names":["canUseDOM","debounce","findNodeHandle","emptyObject","registry","id","guid","resizeObserver","window","ResizeObserver","entries","forEach","_ref","target","instance","_layoutId","_handleLayout","process","env","NODE_ENV","console","warn","triggerAll","Object","keys","key","addEventListener","observe","node","unobserve","safeOverride","original","next","prototypeOverride","call","arguments","applyLayout","Component","componentDidMount","prototype","componentDidUpdate","componentWillUnmount","_layoutState","_isMounted","props","onLayout","prevProps","_this","layout","measure","x","y","width","height","nativeEvent","defineProperty","enumerable","get","timeStamp","Date","now"],"sources":["D:/React/TaxiApp/cabApp/node_modules/react-native-phone-number-input/node_modules/react-native-web/dist/modules/applyLayout/index.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @noflow\n */\n\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport debounce from 'debounce';\nimport findNodeHandle from '../../exports/findNodeHandle';\n\nvar emptyObject = {};\nvar registry = {};\n\nvar id = 1;\nvar guid = function guid() {\n  return 'r-' + id++;\n};\n\nvar resizeObserver = void 0;\nif (canUseDOM) {\n  if (typeof window.ResizeObserver !== 'undefined') {\n    resizeObserver = new window.ResizeObserver(function (entries) {\n      entries.forEach(function (_ref) {\n        var target = _ref.target;\n\n        var instance = registry[target._layoutId];\n        instance && instance._handleLayout();\n      });\n    });\n  } else {\n    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n      console.warn('onLayout relies on ResizeObserver which is not supported by your browser. ' + 'Please include a polyfill, e.g., https://github.com/que-etc/resize-observer-polyfill. ' + 'Falling back to window.onresize.');\n    }\n\n    var triggerAll = function triggerAll() {\n      Object.keys(registry).forEach(function (key) {\n        var instance = registry[key];\n        instance._handleLayout();\n      });\n    };\n\n    window.addEventListener('resize', debounce(triggerAll, 16), false);\n  }\n}\n\nvar observe = function observe(instance) {\n  var id = guid();\n  registry[id] = instance;\n\n  if (resizeObserver) {\n    var node = findNodeHandle(instance);\n    if (node) {\n      node._layoutId = id;\n      resizeObserver.observe(node);\n    }\n  } else {\n    instance._layoutId = id;\n    instance._handleLayout();\n  }\n};\n\nvar unobserve = function unobserve(instance) {\n  if (resizeObserver) {\n    var node = findNodeHandle(instance);\n    if (node) {\n      delete registry[node._layoutId];\n      delete node._layoutId;\n      resizeObserver.unobserve(node);\n    }\n  } else {\n    delete registry[instance._layoutId];\n    delete instance._layoutId;\n  }\n};\n\nvar safeOverride = function safeOverride(original, next) {\n  if (original) {\n    return function prototypeOverride() {\n      /* eslint-disable prefer-rest-params */\n      original.call(this, arguments);\n      next.call(this, arguments);\n      /* eslint-enable prefer-rest-params */\n    };\n  }\n  return next;\n};\n\nvar applyLayout = function applyLayout(Component) {\n  var componentDidMount = Component.prototype.componentDidMount;\n  var componentDidUpdate = Component.prototype.componentDidUpdate;\n  var componentWillUnmount = Component.prototype.componentWillUnmount;\n\n  Component.prototype.componentDidMount = safeOverride(componentDidMount, function componentDidMount() {\n    this._layoutState = emptyObject;\n    this._isMounted = true;\n    if (this.props.onLayout) {\n      observe(this);\n    }\n  });\n\n  Component.prototype.componentDidUpdate = safeOverride(componentDidUpdate, function componentDidUpdate(prevProps) {\n    if (this.props.onLayout && !prevProps.onLayout) {\n      observe(this);\n    } else if (!this.props.onLayout && prevProps.onLayout) {\n      unobserve(this);\n    }\n  });\n\n  Component.prototype.componentWillUnmount = safeOverride(componentWillUnmount, function componentWillUnmount() {\n    this._isMounted = false;\n    if (this.props.onLayout) {\n      unobserve(this);\n    }\n  });\n\n  Component.prototype._handleLayout = function () {\n    var _this = this;\n\n    var layout = this._layoutState;\n    var onLayout = this.props.onLayout;\n\n\n    if (onLayout) {\n      this.measure(function (x, y, width, height) {\n        if (_this._isMounted) {\n          if (layout.x !== x || layout.y !== y || layout.width !== width || layout.height !== height) {\n            _this._layoutState = { x: x, y: y, width: width, height: height };\n            var nativeEvent = {\n              layout: _this._layoutState\n            };\n            Object.defineProperty(nativeEvent, 'target', {\n              enumerable: true,\n              get: function get() {\n                return findNodeHandle(_this);\n              }\n            });\n            onLayout({ nativeEvent: nativeEvent, timeStamp: Date.now() });\n          }\n        }\n      });\n    }\n  };\n  return Component;\n};\n\nexport default applyLayout;"],"mappings":"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"},"metadata":{},"sourceType":"module"}